{"remainingRequest":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3search/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3search/src/components/layout/Header.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3search/src/components/layout/Header.vue","mtime":1629457713488},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3search/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3search/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3search/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3search/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3search/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5kYXJrIC5tMyA+IC5oZWFkZXJ7CiAgICBoZWlnaHQ6IDUwcHghaW1wb3J0YW50OwogICAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgICAvKiBiYWNrZ3JvdW5kOiByZ2IoMzcsIDQ1LCA3MSk7ICovCiAgICBiYWNrZ3JvdW5kOiAjMjUyRDQ3OwogICAgY29sb3I6ICNmZmZmZmY7CiAgICBwYWRkaW5nOiAwcHggMHB4IDBweCAxMHB4OwogICAgcG9zaXRpb246IGZpeGVkOwogICAgd2lkdGg6IDEwMCU7CiAgICB6LWluZGV4OiAxMDAwOwp9Ci5saWdodCAubTMgPiAuaGVhZGVyewogICAgaGVpZ2h0OiA1MHB4IWltcG9ydGFudDsKICAgIGxpbmUtaGVpZ2h0OiA1MHB4OwogICAgLyogYmFja2dyb3VuZDogcmdiKDM3LCA0NSwgNzEpOyAqLwogICAgYmFja2dyb3VuZDogIzE4OTBmZjsKICAgIGNvbG9yOiAjZmZmZmZmOwogICAgcGFkZGluZzogMHB4IDBweCAwcHggMTBweDsKfQoubTMgPiAuaGVhZGVyIC5lbC1pbWFnZSA+IC5lbC1pbWFnZV9faW5uZXJ7CiAgICBtYXgtd2lkdGg6IDEyMHB4OwogICAgbWluLXdpZHRoOiAzMnB4OwogICAgd2lkdGg6IDY0cHg7CiAgICBoZWlnaHQ6IDMycHg7CiAgICBwYWRkaW5nOiA3cHggMHB4Owp9Ci5tMyA+IC5lbC1tYWluewogICAgcGFkZGluZzogMHB4Owp9Ci5lbC1saW5rLmVsLWxpbmstLWRlZmF1bHQgewogICAgY29sb3I6ICNmZmZmZmY7Cn0KLnRvcGJhci1lbC1tZW51IC5lbC1zdWJtZW51X19pY29uLWFycm93LmVsLWljb24tYXJyb3ctZG93bnsKICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgIH0KICAgIC5lbC1tZW51LWl0ZW06aG92ZXJ7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQwOWRmZSFpbXBvcnRhbnQ7CiAgICB9Ci5kYXJrIC5tMyAudG9wYmFyLWVsLW1lbnUuZWwtbWVudS5lbC1tZW51LS1ob3Jpem9udGFsIHsKICAgICAgICBib3JkZXItYm90dG9tOiB1bnNldDsKICAgICAgICBiYWNrZ3JvdW5kOiAjMjQyYzQ2OwogICAgfQoubGlnaHQgLm0zIC50b3BiYXItZWwtbWVudS5lbC1tZW51LmVsLW1lbnUtLWhvcml6b250YWwgewogICAgICAgIGJvcmRlci1ib3R0b206IHVuc2V0OwogICAgICAgIGJhY2tncm91bmQ6ICMxODkwZmY7CiAgICB9CiAgICAudG9wYmFyLWVsLW1lbnUuZWwtbWVudS5lbC1tZW51LS1ob3Jpem9udGFsID4uZWwtbWVudS1pdGVtIHsKICAgICAgICBoZWlnaHQ6IDMwcHg7CiAgICAgICAgbGluZS1oZWlnaHQ6IDMwcHg7CiAgICB9CiAgICAudG9wYmFyLWVsLW1lbnUuZWwtbWVudS5lbC1tZW51LS1ob3Jpem9udGFsPi5lbC1zdWJtZW51IHsKICAgICAgICBmbG9hdDogcmlnaHQ7CiAgICB9CiAgICAudG9wYmFyLWVsLW1lbnUuZWwtbWVudS5lbC1tZW51LS1ob3Jpem9udGFsID4uZWwtc3VibWVudSAuZWwtc3VibWVudV9fdGl0bGUgewogICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICBsaW5lLWhlaWdodDogNTBweDsKICAgICAgICBib3JkZXItYm90dG9tOiB1bnNldDsKICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgIH0KLmVsLW1lbnUtLWhvcml6b250YWw+LmVsLW1lbnUtaXRlbTpub3QoLmlzLWRpc2FibGVkKTpmb2N1cywgCi5lbC1tZW51LS1ob3Jpem9udGFsPi5lbC1tZW51LWl0ZW06bm90KC5pcy1kaXNhYmxlZCk6aG92ZXIsIAouZWwtbWVudS0taG9yaXpvbnRhbD4uZWwtc3VibWVudSAuZWwtc3VibWVudV9fdGl0bGU6aG92ZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogIzQwOWRmZSFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components/layout","sourcesContent":["<template>\n    <el-row type=\"flex\" :gutter=\"0\" v-if=\"auth\">\n        <el-col :span=\"19\">\n            <el-link href=\"/\" :underline=\"false\">\n                <el-image :src=\"auth.Company.logo\" fit=\"contain\"></el-image>\n            </el-link>\n            <span style=\"font-size:16px;vertical-align: top;\">{{auth.Company.title}}</span>\n        </el-col>\n        <el-col :span=\"3\" style=\"text-align: right;\">\n            <MessageView></MessageView>\n        </el-col>\n        <el-col :span=\"1\" style=\"text-align: right;\">\n            \n        </el-col>\n        <el-col :span=\"2\">\n            <el-menu :default-active=\"activeIndex\" \n                    class=\"topbar-el-menu\" \n                    mode=\"horizontal\" \n                    menu-trigger=\"hover\"\n                    @select=\"onSelect\">\n                <el-submenu index=\"1\">\n                    <template slot=\"title\">\n                        <svg-icon icon-class=\"user\"/> {{ auth.username }}\n                    </template>\n                    <el-menu-item index=\"/matrix/user\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"user2\"/> \n                            <span slot=\"title\">用户\n                                <!--div>\n                                <el-button type=\"text\" @click.stop=\"onToggleTheme('dark')\" style=\"background:#252D47;padding: 5px;border-radius: 10px;\"></el-button>\n                                <el-button type=\"text\" @click.stop=\"onToggleTheme('light')\" style=\"background: #1890ff;padding: 5px;border-radius: 10px;\"></el-button>\n                                </div>\n                                <el-divider style=\"margin:0px;\"></el-divider-->\n                            </span>\n                        </template>\n                    </el-menu-item>\n                    \n                    <el-menu-item index=\"/matrix/system\" divided v-if=\"auth.isadmin\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"system\"/>\n                            <span slot=\"title\">系统管理</span>\n                        </template>\n                    </el-menu-item>\n                    <el-menu-item index=\"/matrix/files\" v-if=\"auth.isadmin\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"folder\"/>\n                            <span slot=\"title\">我的文件</span>\n                        </template>\n                    </el-menu-item>\n                    <el-menu-item index=\"home\" v-if=\"auth.isadmin\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"home\"/>\n                            <span slot=\"title\">默认首页</span>\n                        </template>\n                    </el-menu-item>\n                    <el-menu-item index=\"signout\" divided>\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"logout\"/> \n                            <span slot=\"title\">注销</span>\n                        </template>\n                    </el-menu-item>\n                </el-submenu>\n            </el-menu>\n        </el-col>\n    </el-row>    \n</template>\n\n<script>\nimport _ from 'lodash';\nimport Cookies from 'js-cookie';\nimport MessageView from '../../components/message/MessageView';\n\nexport default{\n    name: \"Header\",\n    props: {\n        auth: Object\n    },\n    data(){\n        return {\n            activeIndex: '1'\n        }\n    },\n    components: {\n        MessageView\n    },\n    created(){\n        this.initTheme();\n    },\n    mounted(){\n        this.m3.setTitle(this.auth);\n    },\n    methods: {\n        onSelect(key) {\n            if(_.startsWith(key,'/matrix/')){\n                window.open(key, '_blank');\n            } else {\n                if(key === 'home'){\n                    this.m3.setAppAsHome(this,{url:'/home'});\n                } else if(key==='signout'){\n                    window.open(`/user/logout/${this.auth.Company.name}`,'_parent');\n                } \n            }\n        },\n        initTheme(){\n            let body = document.body;\n            let value = Cookies.get('m3-theme')?Cookies.get('m3-theme'):'dark';\n            body.classList.add(value);\n        },\n        onToggleTheme(val){\n\n            //let theme = {dark:'#252D47',light:'#409EFF'};\n            \n            Cookies.set('m3-theme',val);\n            \n            window.location.reload();\n        }\n    }\n}\n</script>\n\n<style>\n    .dark .m3 > .header{\n        height: 50px!important;\n        line-height: 50px;\n        /* background: rgb(37, 45, 71); */\n        background: #252D47;\n        color: #ffffff;\n        padding: 0px 0px 0px 10px;\n        position: fixed;\n        width: 100%;\n        z-index: 1000;\n    }\n    .light .m3 > .header{\n        height: 50px!important;\n        line-height: 50px;\n        /* background: rgb(37, 45, 71); */\n        background: #1890ff;\n        color: #ffffff;\n        padding: 0px 0px 0px 10px;\n    }\n    .m3 > .header .el-image > .el-image__inner{\n        max-width: 120px;\n        min-width: 32px;\n        width: 64px;\n        height: 32px;\n        padding: 7px 0px;\n    }\n    .m3 > .el-main{\n        padding: 0px;\n    }\n    .el-link.el-link--default {\n        color: #ffffff;\n    }\n    .topbar-el-menu .el-submenu__icon-arrow.el-icon-arrow-down{\n            color: #ffffff;\n        }\n        .el-menu-item:hover{\n            background-color: #409dfe!important;\n        }\n    .dark .m3 .topbar-el-menu.el-menu.el-menu--horizontal {\n            border-bottom: unset;\n            background: #242c46;\n        }\n    .light .m3 .topbar-el-menu.el-menu.el-menu--horizontal {\n            border-bottom: unset;\n            background: #1890ff;\n        }\n        .topbar-el-menu.el-menu.el-menu--horizontal >.el-menu-item {\n            height: 30px;\n            line-height: 30px;\n        }\n        .topbar-el-menu.el-menu.el-menu--horizontal>.el-submenu {\n            float: right;\n        }\n        .topbar-el-menu.el-menu.el-menu--horizontal >.el-submenu .el-submenu__title {\n            height: 50px;\n            line-height: 50px;\n            border-bottom: unset;\n            color: #ffffff;\n        }\n    .el-menu--horizontal>.el-menu-item:not(.is-disabled):focus, \n    .el-menu--horizontal>.el-menu-item:not(.is-disabled):hover, \n    .el-menu--horizontal>.el-submenu .el-submenu__title:hover {\n        background-color: #409dfe!important;\n    }\n</style>\n"]}]}